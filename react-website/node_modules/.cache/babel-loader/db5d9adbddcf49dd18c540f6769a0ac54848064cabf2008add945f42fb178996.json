{"ast":null,"code":"const handleAddToCart = async e => {\n  e.stopPropagation();\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!(user !== null && user !== void 0 && user.userId)) {\n    alert(\"Пожалуйста, войдите в аккаунт\");\n    navigate('/login');\n    return;\n  }\n  try {\n    const res = await fetch(\"http://localhost:5085/api/cart/add\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        userId: user.userId,\n        productId: id,\n        quantity: 1\n      })\n    });\n    const result = await res.json();\n    if (res.ok && result.success) {\n      alert(\"Товар добавлен в корзину!\");\n    } else {\n      console.error(\"Ошибка сервера:\", result);\n      alert(\"Ошибка при добавлении в корзину\");\n    }\n  } catch (err) {\n    console.error(\"Ошибка при добавлении в корзину:\", err);\n    alert(\"Произошла ошибка\");\n  }\n};","map":{"version":3,"names":["handleAddToCart","e","stopPropagation","user","JSON","parse","localStorage","getItem","userId","alert","navigate","res","fetch","method","headers","body","stringify","productId","id","quantity","result","json","ok","success","console","error","err"],"sources":["H:/Website/Website_Technical_Store/react-website/src/Components/ProductCard/ProductCard.jsx"],"sourcesContent":["const handleAddToCart = async (e) => {\r\n  e.stopPropagation();\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (!user?.userId) {\r\n    alert(\"Пожалуйста, войдите в аккаунт\");\r\n    navigate('/login');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(\"http://localhost:5085/api/cart/add\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        userId: user.userId,\r\n        productId: id,\r\n        quantity: 1\r\n      })\r\n    });\r\n\r\n    const result = await res.json();\r\n    if (res.ok && result.success) {\r\n      alert(\"Товар добавлен в корзину!\");\r\n    } else {\r\n      console.error(\"Ошибка сервера:\", result);\r\n      alert(\"Ошибка при добавлении в корзину\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Ошибка при добавлении в корзину:\", err);\r\n    alert(\"Произошла ошибка\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,eAAe,GAAG,MAAOC,CAAC,IAAK;EACnCA,CAAC,CAACC,eAAe,CAAC,CAAC;EACnB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAI,EAACJ,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,MAAM,GAAE;IACjBC,KAAK,CAAC,+BAA+B,CAAC;IACtCC,QAAQ,CAAC,QAAQ,CAAC;IAClB;EACF;EAEA,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;MAC5DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;QACnBR,MAAM,EAAEL,IAAI,CAACK,MAAM;QACnBS,SAAS,EAAEC,EAAE;QACbC,QAAQ,EAAE;MACZ,CAAC;IACH,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;IAC/B,IAAIV,GAAG,CAACW,EAAE,IAAIF,MAAM,CAACG,OAAO,EAAE;MAC5Bd,KAAK,CAAC,2BAA2B,CAAC;IACpC,CAAC,MAAM;MACLe,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEL,MAAM,CAAC;MACxCX,KAAK,CAAC,iCAAiC,CAAC;IAC1C;EACF,CAAC,CAAC,OAAOiB,GAAG,EAAE;IACZF,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEC,GAAG,CAAC;IACtDjB,KAAK,CAAC,kBAAkB,CAAC;EAC3B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}